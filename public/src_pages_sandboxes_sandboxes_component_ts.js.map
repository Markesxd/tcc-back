{"version":3,"file":"src_pages_sandboxes_sandboxes_component_ts.js","mappings":"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","sources":["./src/pages/sandboxes/modal-sandbox/modal-sandbox.component.ts","./src/pages/sandboxes/modal-sandbox/modal-sandbox.component.html","./src/pages/sandboxes/sandboxes.component.ts","./src/pages/sandboxes/sandboxes.component.html","./src/services/sandbox.service.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbActiveModal, NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { ISandbox } from 'src/model/sandbox.model';\n\n@Component({\n  selector: 'app-modal-sandbox',\n  standalone: true,\n  imports: [CommonModule, NgbModule, ReactiveFormsModule],\n  templateUrl: './modal-sandbox.component.html',\n  styleUrls: ['./modal-sandbox.component.css']\n})\nexport class ModalSandboxComponent {\n\n  form = this.fb.group({\n    name: ['', [Validators.required]]\n  })\n\n  constructor(\n    private activeModal: NgbActiveModal,\n    private fb: FormBuilder\n  ) {}\n\n  save(): void {\n    this.activeModal.close(this.createFromForm());\n  }\n\n  createFromForm(): ISandbox {\n    const sandbox = {} as ISandbox;\n    sandbox.nome = this.form.get('name')?.value ?? '';\n    sandbox.limpoEm = new Date();\n    return sandbox;\n  }\n\n  dismiss(): void {\n    this.activeModal.dismiss();\n  }\n}\n","<div class=\"p-3\">\n    <div class=\"form-header\">\n        <h3 class=\"form-title\">Nova Caixa</h3>\n        <svg class=\"form-icon\" (click)=\"dismiss()\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d=\"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z\"/></svg>\n    </div>\n    <form [formGroup]=\"form\">\n        <label for=\"name\" class=\"form-label\">Nome</label>    \n        <input type=\"text\" id=\"name\" class=\"form-control\" formControlName=\"name\">\n        <button (click)=\"save()\" type=\"button\" class=\"form-buttom\" [disabled]=\"!form.valid\">Cadastrar</button>\n    </form>\n</div>","import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ISandbox } from 'src/model/sandbox.model';\nimport { FormatDate } from 'src/Pipes/FormatDate.pipe';\nimport { NgbModal, NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { ModalSandboxComponent } from './modal-sandbox/modal-sandbox.component';\nimport { UserService } from 'src/services/user.service';\nimport { SandboxService } from 'src/services/sandbox.service';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { ConfirmationModalComponent } from 'src/components/confirmation-modal/confirmation-modal.component';\n\n@Component({\n  selector: 'app-sandboxes',\n  standalone: true,\n  imports: [CommonModule, FormatDate, NgbModule],\n  templateUrl: './sandboxes.component.html',\n  styleUrls: ['./sandboxes.component.css']\n})\nexport class SandboxesComponent {\n\n  sandboxes?: ISandbox[];\n\n  constructor(\n    private modalService: NgbModal,\n    private sandboxService: SandboxService,\n  ) {}\n\n  ngOnInit(): void {\n    this.load();\n  }\n\n  openModal(): void {\n    const ref = this.modalService.open(ModalSandboxComponent, {centered: true});\n    ref.closed.subscribe(sandbox => {\n      this.sandboxService.create(sandbox).subscribe(() => this.load());\n    })\n  }\n\n  cleanBox(sandbox: ISandbox): void {\n    sandbox.limpoEm = new Date();\n    this.sandboxService.patch(sandbox).subscribe(() => {\n      sandbox.limpoEm = new Date();\n    });\n  }\n\n  deleteBox(sandbox: ISandbox): void {\n    const ref = this.modalService.open(ConfirmationModalComponent, {centered: true});\n    ref.componentInstance.text = \"Você tem certeza que deseja excluir essa caixa de areia?\";\n    ref.closed.subscribe(() => {\n      if(!sandbox.id) {\n        throw new Error(\"Sandbox missing id\");\n      }\n      this.sandboxService.delete(sandbox.id).subscribe(() => this.load());\n    })\n  }\n\n  load(): void {\n    this.sandboxService.fetch().subscribe(_sandboxes => {\n      this.sandboxes = _sandboxes as ISandbox[];\n    });\n  }\n}\n","<section>\n    <div class=\"page-header\">\n        <h2 class=\"page-title\">Caixas</h2>\n        <svg (click)=\"openModal()\"  xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 512 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z\"/></svg>\n    </div>\n    <div ngbAccordion [closeOthers]=\"true\">\n        <div ngbAccordionItem *ngFor=\"let box of sandboxes\">\n            <h2 ngbAccordionHeader>\n                <button ngbAccordionButton>{{ box.nome }}</button>\n            </h2>\n            <div ngbAccordionCollapse>\n                <div ngbAccordionBody>\n                    <ng-template>\n                        <div class=\"d-flex justify-content-between\">\n                            {{box.limpoEm | formatDate}}\n\n                            <div class=\"d-flex gap-3\">\n                                <svg (click)=\"deleteBox(box)\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z\"/></svg>\n                                <svg (click)=\"cleanBox(box)\" xmlns=\"http://www.w3.org/2000/svg\" height=\"1em\" viewBox=\"0 0 448 512\"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d=\"M128 32v96H256V96h60.1c4.2 0 8.3 1.7 11.3 4.7l33.9 33.9c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L372.7 55.4c-15-15-35.4-23.4-56.6-23.4H256c0-17.7-14.3-32-32-32H160c-17.7 0-32 14.3-32 32zM117.4 160c-33.3 0-61 25.5-63.8 58.7L35 442.7C31.9 480 61.3 512 98.8 512H285.2c37.4 0 66.9-32 63.8-69.3l-18.7-224c-2.8-33.2-30.5-58.7-63.8-58.7H117.4zM256 360c0 35.3-28.7 56-64 56s-64-20.7-64-56c0-32.5 37-80.9 50.9-97.9c3.2-3.9 8.1-6.1 13.1-6.1s9.9 2.2 13.1 6.1C219 279.1 256 327.5 256 360z\"/></svg>\n                            </div>\n                        </div>\n                    </ng-template>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { CookieService } from \"ngx-cookie-service\";\nimport { Observable } from \"rxjs\";\nimport { environment } from \"src/environments/environment\";\nimport { ISandbox } from \"src/model/sandbox.model\";\n\n@Injectable({providedIn:'root'})\nexport class SandboxService {\n    private readonly baseUrl = environment.apiUrl + '/caixa-de-areia';\n\n    constructor(\n        private http: HttpClient\n    ) {}\n\n    create(sandbox: ISandbox): Observable<Object> {\n        return this.http.post(this.baseUrl, sandbox);\n    }\n\n    delete(id: number): Observable<Object> {\n        return this.http.delete(`${this.baseUrl}/${id}`);\n    }\n\n    patch(sandbox: ISandbox): Observable<Object> {\n        return this.http.put(`${this.baseUrl}/${sandbox.id}`, sandbox);\n    }\n\n    fetch(): Observable<Object> {\n        return this.http.get(this.baseUrl);\n    }\n}"],"names":["CommonModule","NgbModule","ReactiveFormsModule","Validators","ModalSandboxComponent","constructor","activeModal","fb","form","group","name","required","save","close","createFromForm","sandbox","nome","get","value","limpoEm","Date","dismiss","_","i0","ɵɵdirectiveInject","i1","NgbActiveModal","i2","FormBuilder","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ModalSandboxComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵnamespaceSVG","ɵɵlistener","ModalSandboxComponent_Template__svg_svg_click_4_listener","ɵɵelement","ɵɵnamespaceHTML","ModalSandboxComponent_Template_button_click_10_listener","ɵɵadvance","ɵɵproperty","valid","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles","FormatDate","ConfirmationModalComponent","SandboxesComponent_div_7_ng_template_6_Template__svg_svg_click_4_listener","ɵɵrestoreView","_r5","box_r1","ɵɵnextContext","$implicit","ctx_r3","ɵɵresetView","deleteBox","SandboxesComponent_div_7_ng_template_6_Template__svg_svg_click_6_listener","ctx_r6","cleanBox","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵtemplate","SandboxesComponent_div_7_ng_template_6_Template","ɵɵtextInterpolate","SandboxesComponent","modalService","sandboxService","ngOnInit","load","openModal","ref","open","centered","closed","subscribe","create","patch","componentInstance","text","id","Error","delete","fetch","_sandboxes","sandboxes","NgbModal","SandboxService","SandboxesComponent_Template","SandboxesComponent_Template__svg_svg_click_4_listener","SandboxesComponent_div_7_Template","i3","NgForOf","NgbAccordionButton","NgbAccordionDirective","NgbAccordionItem","NgbAccordionHeader","NgbAccordionBody","NgbAccordionCollapse","environment","http","baseUrl","apiUrl","post","put","ɵɵinject","HttpClient","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}